<div class="container col-md-7 mt-5 mb-5">
  <div class="card">
    <div class="d-flex justify-content-between p-3">
      <div class="image">
        <img
          src="https://cdn-icons-png.flaticon.com/512/10648/10648040.png"
          width="60"
          height="60"
          alt="logo"
        />
      </div>
      <div class="quiz header">
        <h4>Angular & Type Script Quiz</h4>
        <span>Welcome {{ userName }} </span>
      </div>
    </div>
    <ng-container *ngIf="!isQuizCompleted">
      <div class="d-flex justify-content-around py-3">
        <div class="score">
          <h5>{{ points }} Points</h5>
        </div>
        <div class="question-remaining">
          <h5>Question {{ qNum + 1 }} of {{ question.length }}</h5>
        </div>
        <div class="timer">
          <h5>{{ counter }} sec ‚è±</h5>
        </div>
      </div>
      <div class="progress mb-5">
        <div
          class="progress-bar bg"
          role="progressbar"
          [ngStyle]="{ width: progressBar + '%' }"
          aria-valuenow="75"
          aria-valuemin="0"
          aria-valuemax="100"
        ></div>
      </div>

      <div class="question ms-3">
        <h3>{{ question[qNum].questionText }}</h3>
      </div>
      <div class="option">
        <ol>
          <div class="options" *ngFor="let option of question[qNum].options">
            <li>
              <div
                class="card"
                appChangebg
                [isCorrect]="option.correct"
                (click)="userAnswer(qNum, option)"
              >
                {{ option.text }}
              </div>
            </li>
          </div>
        </ol>
      </div>
      <div class="d-flex justify-content-between">
        <button
          class="btn"
          (click)="previousQuestion()"
          [disabled]="qNum === 0"
        >
          <i class="fa-solid fa-2x fa-angles-left"></i>
        </button>
        <button class="btn" (click)="restartCounter()">
          <i class="fa-solid fa-2x fa-refresh"></i>
        </button>
        <button
          class="btn"
          (click)="nextQuestion()"
          [disabled]="qNum === question.length - 1"
        >
          <i class="fa-solid fa-2x fa-angles-right"></i>
        </button></div
    ></ng-container>

    <ng-container *ngIf="isQuizCompleted">
      <div class="row d-flex justify-content-between">
        <img
          style="width: 50%"
          class="img-fluid col-sm-12 mx-auto"
          src="https://icon-library.com/images/celebration-icon-png/celebration-icon-png-7.jpg"
          alt=""
        />
        <div class="result text-center col-md-6 col-sm-12">
          <h3>
            Congratulations!! <br />You have completed the quiz. <br />Below is
            your result:
          </h3>
          <p>Total Question Attempted : {{ question.length }}</p>
          <p>Total Correct Answered : {{ correctAnswers }}</p>
          <p>Total Wrong Answered : {{ inCorrectAnswer }}</p>
          <p>Your Score : {{ points }} Points</p>
        </div>
      </div>
    </ng-container>
  </div>
</div>
